# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è / Instruction
- [–†—É—Å—Å–∫–∏–π](https://github.com/Romagor07/GM-discord-bot-for-GMod#%D1%80%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)
- [English](https://github.com/Romagor07/GM-discord-bot-for-GMod?tab=readme-ov-file#english)
# –†—É—Å—Å–∫–∏–π:
–≠—Ç–æ –º–æ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –ø–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –æ–¥–Ω–æ–π –∏–∑ —Å–∞–º—ã—Ö –≥–ª–∞–≤–Ω—ã—Ö –∏ –Ω—É–∂–Ω—ã—Ö –≤–µ—â–µ–π –¥–ª—è —Å–µ—Ä–≤–µ—Ä–æ–≤ GMod
–ë–æ—Ç –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞—Å—Ç –¥–≤—É—Ö—Å—Ç–æ—Ä–æ–Ω–Ω–µ–µ –æ–±—â–µ–Ω–∏–µ –º–µ–∂–¥—É –ª—é–¥—å–º–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –∏ –ª—é–¥—å–º–∏ –≤ –¥–∏—Å–∫–æ—Ä–¥–µ (–¢–û–õ–¨–ö–û –ß–ê–¢)

## –ß—Ç–æ –∂–µ –≤—Ö–æ–¥–∏—Ç –≤ —ç—Ç–æ–≥–æ –±–æ—Ç–∞:

- –î–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω–µ–µ –æ–±—â–µ–Ω–∏–µ –º–µ–∂–¥—É Discord –∏ Garry's Mod
- –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–æ–º —Å –±–∞–∑–æ–≤—ã–º–∏ –∫–æ–º–∞–Ω–¥–∞–º–∏ (–±–∞–Ω, –∫–∏–∫, –º—É—Ç –∏ —Ç.–¥.)

## –ß—Ç–æ –∂–µ –Ω—É–∂–Ω–æ –¥–ª—è –µ–≥–æ —Ä–∞–±–æ—Ç—ã:

- –°–µ—Ä–≤–µ—Ä Garry's Mod
- [GWSockets](https://github.com/FredyH/GWSockets)
- [ULX](https://steamcommunity.com/sharedfiles/filedetails/?l=russian&id=557962280)
- Python –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

# –ö–∞–∫ –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å:

- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–∏—Ç–æ–Ω –≤–µ—Ä—Å–∏–∏ 3.12.2 –∏ –≤—ã—à–µ (``` –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –° PIP ```)
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –¥–∞–Ω–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π: 
```pip install discord.py websockets asyncio```
- –î–∞–ª–µ–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º—Å—è –≤ –ø–∏—Ç–æ–Ω–æ–≤—Å–∫–∏–π —Ñ–∞–π–ª (```GM - DS - BOT.py```) –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –≤—Å–µ –∫–∞–∫ –Ω–∞–ø–∏—Å–∞–Ω–Ω–æ –Ω–∏–∂–µ:

| –ß—Ç–æ –º–µ–Ω—è—Ç—å | –ì–¥–µ –º–µ–Ω—è—Ç—å | –ü—Ä–∏–º–µ—Ä | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ |
|---------------------------------|------------------------|-------------------------|-------------------------|
| –¢–æ–∫–µ–Ω –±–æ—Ç–∞ Discord | TOKEN = "–í–ê–®_–¢–û–ö–ï–ù_–ë–û–¢–ê" | TOKEN = "Mz...your-token" | –ú–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ Developer portal |
| ID —Å–µ—Ä–≤–µ—Ä–∞ Discord  | GUILD_ID = 123456789 | GUILD_ID = 987654321 | –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –ø–∫–º –ø–æ –∏–∫–æ–Ω–∫–µ —Å–µ—Ä–≤–µ—Ä–∞ |
| ID –∫–∞–Ω–∞–ª–∞ –¥–ª—è –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è | CHANNEL_ID = 987654321 | CHANNEL_ID = 1122334455 | –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –ø–∫–º –ø–æ –∫–∞–Ω–∞–ª—É |
| –ù–∞–∑–≤–∞–Ω–∏–µ —Ä–æ–ª–∏ –∞–¥–º–∏–Ω–æ–≤ | ADMIN_ROLE = "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä" | ADMIN_ROLE = "GMod Admin" | –Ω–∞–π—Ç–∏ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Discord —Å–µ—Ä–≤–µ—Ä–∞
| –ê–¥—Ä–µ—Å WebSocket —Å–µ—Ä–≤–µ—Ä–∞ GMod | WEBSOCKET_URI = "ws://127.0.0.1:8765" | WEBSOCKET_URI = "ws://192.168.1.100:8765" | –Ω–µ –º–µ–Ω—è—Ç—å –µ—Å–ª–∏ –Ω–∞ –≤—Å–µ —Ñ–∞–π–ª—ã –Ω–∞ 1 —Å–µ—Ä–≤–µ—Ä–Ω–æ–π –º–∞—à–∏–Ω–µ |

- –ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ñ–∞–π–ª–∞ –ø–∏—Ç–æ–Ω–∞ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º —Ñ–∞–π–ª ```discord-GM.lua```

| –ß—Ç–æ –º–µ–Ω—è—Ç—å | –ì–¥–µ –º–µ–Ω—è—Ç—å | –ü—Ä–∏–º–µ—Ä | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ |
|----------------|------------------------|-------------------------|-------------------------|
| IP WebSocket —Å–µ—Ä–≤–µ—Ä–∞ | socket = GWSockets.createWebSocket("ws://127.0.0.1:8765") | socket = GWSockets.createWebSocket("ws://192.168.1.100:8765") | –Ω–µ –º–µ–Ω—è—Ç—å –µ—Å–ª–∏ –Ω–∞ –≤—Å–µ —Ñ–∞–π–ª—ã –Ω–∞ 1 —Å–µ—Ä–≤–µ—Ä–Ω–æ–π –º–∞—à–∏–Ω–µ |
| –ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥ ULX  | game.ConsoleCommand("ulx ban " .. target .. " 0\n") | game.ConsoleCommand("sam ban " .. target .. " 0\n") | –ú–µ–Ω—è—Ç—å —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏–∏ –æ—à–∏–±–æ–∫ |

# –ß—Ç–æ –∂–µ –º—ã –ø–æ–ª—É—á–∞–µ–º –≤ –∏—Ç–æ–≥–µ?
üîπ –ë–æ—Ç–∞ –∫–æ—Ç–æ—Ä—ã–π:

üîπ —Å–æ–∑–¥–∞–µ—Ç –ø–∞–Ω–µ–ª—å –∫–Ω–æ–ø–æ–∫ –≤ Discord.

üîπ –ê–¥–º–∏–Ω—ã –º–æ–≥—É—Ç –Ω–∞–∂–∏–º–∞—Ç—å –∫–Ω–æ–ø–∫–∏ –∏ –≤–≤–æ–¥–∏—Ç—å –¥–∞–Ω–Ω—ã–µ.

üîπ –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–º–∞–Ω–¥—É –≤ WebSocket ‚Üí GMod –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∫–æ–º–∞–Ω–¥—É.

üîπ –†–∞–±–æ—Ç–∞–µ—Ç —Å ULX / SAM / RCON –∫–æ–º–∞–Ω–¥–∞–º–∏.

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–æ–º Garry‚Äôs Mod –≤ Discord! üéÆüî•


# English:
This is my own project to implement one of the most important and necessary things for GMod servers
A bot that will create two-way communication between people on the server and people in Discord (CHAT ONLY)

## What is included in this bot:

- Two-way communication between Discord and Garry's Mod
- Admin panel for managing the server with basic commands (ban, kick, mute, etc.)

## What is needed for its operation:

- Garry's Mod server
- [GWSockets](https://github.com/FredyH/GWSockets)
- Python and libraries

# How to set everything up:

- Install Python version 3.12.2 and higher (``` WITH PIP MANDATORY ```)
- Install the libraries with this command:

```pip install discord.py websockets asyncio```
- Next, go to the Python file (```GM - DS - BOT.py```) and configure everything as written below:

| What to change | Where to change | Example | Recommendations |
|---------------------------------|-----------------------|-------------------------|-------------------------|
| Discord bot token | TOKEN = "YOUR_BOT_TOKEN" | TOKEN = "Mz...your-token" | Can be found on the Developer portal page |
| Discord server ID | GUILD_ID = 123456789 | GUILD_ID = 987654321 | in developer mode, right-click on the server icon |
| Channel ID for the control panel | CHANNEL_ID = 987654321 | CHANNEL_ID = 1122334455 | in developer mode, right-click on the channel |
| Admin role name | ADMIN_ROLE = "Administrator" | ADMIN_ROLE = "GMod Admin" | find in Discord server settings
| GMod server WebSocket address | WEBSOCKET_URI = "ws://127.0.0.1:8765" | WEBSOCKET_URI = "ws://192.168.1.100:8765" | do not change if for all files on 1 server machine |

- After setting up the python file, set up the ```discord-GM.lua``` file

| What to change | Where to change | Example | Recommendations |
|----------------|------------------------|-------------------------|-------------------------|
| WebSocket server IP | socket = GWSockets.createWebSocket("ws://127.0.0.1:8765") | socket = GWSockets.createWebSocket("ws://192.168.1.100:8765") | do not change if on all files on 1 server machine |
| ULX command name | game.ConsoleCommand("ulx ban " .. target .. " 0\n") | game.ConsoleCommand("sam ban " .. target .. " 0\n") | Change only if errors are found |

# What do we get in the end?
üîπ A bot that:

üîπ creates a button panel in Discord.

üîπ Admins can press buttons and enter data.

üîπ The bot sends a command to WebSocket ‚Üí GMod executes the command.

üîπ Works with ULX / SAM / RCON commands.

Now you have a full control panel for your Garry's Mod server in Discord! üéÆüî•
